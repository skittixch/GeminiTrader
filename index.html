<!DOCTYPE html>
<html lang="en"> <!-- data-theme attribute will be set by JS -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive BTC Candlestick Chart (Crosshair)</title> <!-- Updated title -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Controls Wrapper -->
    <div class="controls-wrapper">
        <!-- Theme Switch -->
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="theme-checkbox">
                <input type="checkbox" id="theme-checkbox" />
                <div class="slider"></div>
            </label>
            <span>Dark</span>
        </div>
        <!-- Log Scale Switch -->
        <div class="log-scale-switch-wrapper">
            <label class="theme-switch" for="log-scale-checkbox">
                <input type="checkbox" id="log-scale-checkbox" />
                <div class="slider"></div>
            </label>
            <span>Log</span>
        </div>
        <!-- Time Format Switch -->
        <div class="time-format-switch-wrapper">
             <label class="theme-switch" for="time-format-checkbox">
                 <input type="checkbox" id="time-format-checkbox" />
                 <div class="slider"></div>
             </label>
             <span>AM/PM</span>
        </div>
    </div>


    <h1>Interactive BTC/USD Candlestick Chart</h1>
    <p class="instructions">Scroll=Zoom | Drag Chart=Pan | Drag Axes=Scale | Dbl-Click=Reset | Hover=Info/Crosshair</p>

    <div class="chart-container" id="chart-container">
        <div class="chart-wrapper">
            <div class="grid-container" id="grid-container"></div>
            <div class="chart-area" id="chart-area"></div>
            <div class="y-axis-labels" id="y-axis-labels"></div>
            <div class="x-axis-labels" id="x-axis-labels"></div>
            <div class="current-price-line" id="current-price-line" style="display: none;"></div>
            <div class="current-price-label" id="current-price-label" style="display: none;">-</div>

            <!-- *** START: Crosshair Elements (Renamed for Horizontal) *** -->
            <div class="crosshair-line-x" id="crosshair-line-x" style="display: none;"></div>
            <div class="crosshair-label-y" id="crosshair-label-y" style="display: none;">-</div>
            <!-- *** END: Crosshair Elements *** -->

            <!-- Tooltip Element -->
            <div class="chart-tooltip" id="chart-tooltip" style="display: none; opacity: 0;">
                <!-- Content will be set by JavaScript -->
            </div>
        </div>
         <div id="chart-message">Loading data...</div>
    </div>

    <!-- Granularity Selection Buttons -->
    <div class="granularity-controls" id="granularity-controls">
        <span>Interval:</span>
        <button data-granularity="300">5m</button>
        <button data-granularity="900">15m</button>
        <button data-granularity="3600" class="active">1h</button>
        <button data-granularity="21600">6h</button>
        <button data-granularity="86400">1d</button>
    </div>

    <!-- Load the main script as a module -->
    <script type="module" src="js/main.js" defer></script>

</body>
</html>